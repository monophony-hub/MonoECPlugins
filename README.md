# Plugins for Emotion Creators

## EC_SceneExport
This plugin exports Parts of H-Scene into files, and imports from exported file.
You can reuse parts of H-Scene.
 
## 説明
エモクリのシーン中のパートをパート単位でファイルにエクスポート/インポートするプラグインです。
エクスポート/インポートにより、別のシーンへパートをコピーすることができます。

##  使い方

C:\illusion\emotioncreators\BepInEx\plugins　にDLLをコピーしてください。

シーン編集のチャート作成画面で操作します。
 - 左ctrl-E	チャート画面上のすべてのパートをエクスポート
 - 左ctrl-I	UserData\SceneExportフォルダのすべての.partファイルをインポート

エクスポートしたファイルは .part拡張子で、以下の保存されます。

UserData\SceneExport

インポートではすべてのパートをインポートするので、不要な partファイルは消してください。

インポートしたパートは、重ねて中央に配置されるので移動してください。

## 注意点

### ctrl-E, ctrl-I が効かない時
以下のどちらかを試してみてください。
 - テストプレイに切り替えて、すぐ中断して、チャート編集画面に戻る
 - マップなしのパートを開いて、チャート編集画面に戻る
（プラグインが、チャート編集画面を認識できない時があるようです。）

### キャラクタ数
インポートする際、エクスポートしたシーンのキャラクタ数より、インポートするシーンのキャラクタ数が多い必要があります。

### シーンを作成時のエモクリ本体バージョン
エクスポート/インポートで、シーン作成時のエモクリ本体バージョンが一致している必要があります。
シーンを作成したエモクリ本体バージョンが不明な場合は、一度シーンを保存し直してから、エクスポート/インポートしてください。

### キャラクタの割り当て
エモクリのキャラクタは、シーンを作成する際に追加したキャラクタに、0,1,2と順番に番号を0〜7まで振っています。
パートをインポートする際、元のシーンのキャラクタ番号が、新しいシーンのキャラクタ番号にそのまま割り当てられます。
キャラクタの割り当て変更は難しそうなので、ご容赦ください。

### シーン名の使えない文字
エクスポートの際、ファイルに名にシーン名をつけるのですが、?などのファイル名に使えない記号があるとエクスポートで失敗します。
